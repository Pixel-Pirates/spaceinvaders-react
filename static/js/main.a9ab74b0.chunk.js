(this["webpackJsonpspaceinvaders-react"]=this["webpackJsonpspaceinvaders-react"]||[]).push([[0],{13:function(t,e,n){},14:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),r=n(2),o=n.n(r),c=(n(13),n(3)),s=n(4),v=n(6),l=n(5),u=n(7);n(14);var h=function(t){var e=t.x,n=void 0===e?0:e,i=t.y,r=void 0===i?0:i,o=t.src,c=void 0===o?null:o,s=t.width,v=void 0===s?null:s,l=t.height,u=void 0===l?null:l;if(n>100)throw"Entinity - x prop (".concat(n,") must be less than or equal to ").concat(100);if(r>100)throw"Entinity - y prop (".concat(r,") must be less than or equal to ").concat(100);var h=window.innerWidth*(n/100)-v/2,f=window.innerHeight*(r/100),d={bottom:"".concat(f,"px"),left:"".concat(h,"px"),width:"".concat(v,"px"),height:"".concat(u,"px"),position:"absolute"};return a.a.createElement("img",{style:d,src:c})};var f=function(t){var e=t.x,n=void 0===e?0:e;return a.a.createElement(h,{x:n,y:0,src:"./fighter.jpg",width:100,height:85})};var d=function(t){var e=t.x,n=t.y;return a.a.createElement(h,{x:e,y:n,src:"./invader.jpg",width:50,height:34})};var y=function(t){var e=t.x,n=t.y;return a.a.createElement(h,{x:e,y:n,src:"./shot.jpg",width:8,height:16})};function g(t,e){var n=100/window.innerWidth*100,i=85/window.innerHeight*100,a=t.x-n/2,r=t.y+i/2,o=t.x+n/2,c=t.y-i/2;return a<e.x&&o>e.x&&r>e.y&&c<e.y}function m(t,e){var n=50/window.innerWidth*100,i=34/window.innerHeight*100,a=t.x-n/2,r=t.y+i/2,o=t.x+n/2,c=t.y-i/2;return a<e.x&&o>e.x&&r>e.y&&c<e.y}var x=function(t){function e(){var t,n;Object(c.a)(this,e);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=Object(v.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(a)))).state={fighter:{movingLeft:!1,movingRight:!1},fighterX:50,bullet:{active:!1,x:null,y:null},invaderBomb:{active:!1,x:null,y:null},invaders:[],score:0,moveCount:60,currentCount:0},n.tick=function(){var t=n.state,e=t.bullet,i=t.invaders,a=t.score,r=t.currentCount,o=t.moveCount,c=t.invaderBomb,s=t.fighterX;if(e.active){var v=!0,l=e.y;(l+=1)>100&&(v=!1);for(var u=0;u<i.length;u++)i[u].alive&&m(i[u],e)&&(v=!1,i[u].alive=!1,a+=10);n.setState({score:a,bullet:{y:l,x:e.x,active:v}})}if(++r>=o){r=0;var h=!1;i.map((function(t){return t.alive&&(t.x+=1),t.x>90&&(h=!0),t})),h&&i.map((function(t){return t.x-=20,t.y-=5,t}))}if(n.setState({currentCount:r}),c.active){v=!0,l=c.y;(l-=1)<0&&(v=!1),g({x:s,y:0},c)&&n.reset(),n.setState({invaderBomb:{active:v,x:c.x,y:l}})}else{for(var f=[],d=1;d<=6;d++)for(var y=3;y>=1;y--){var x=i[6*y-d];if(x.alive){f.push(x);break}}var p=f[Math.floor(Math.random()*f.length)];n.setState({invaderBomb:{active:!0,x:p.x,y:p.y}})}var w=n.state.fighterX;n.state.fighter.movingLeft?w-=.5:n.state.fighter.movingRight&&(w+=.5),w<0?w=0:w>100&&(w=100),n.state.fighterX!=w&&n.setState({fighterX:w})},n.reset=function(){n.setState({fighterX:50,score:0,bullet:{active:!1},invaderBomb:{active:!1}}),n.spawnEntities()},n.spawnEntities=function(){for(var t=[],e=0,i=0;i<3;i++)for(var a=0;a<6;a++)t.push({id:e++,x:10*a+10,y:10*(9-i),alive:!0});n.setState({invaders:t})},n}return Object(u.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=this;window.onkeypress=function(n){"KeyA"==n.code?t.setState({fighter:{movingLeft:!0}}):"KeyD"==n.code?t.setState({fighter:{movingRight:!0}}):"Space"!=n.code||e.state.bullet.active||e.setState({bullet:{active:!0,x:e.state.fighterX,y:10}})},window.onkeyup=function(e){"KeyA"==e.code?t.setState({fighter:{movingLeft:!1}}):"KeyD"==e.code&&t.setState({fighter:{movingRight:!1}})},this.spawnEntities(),setInterval(this.tick.bind(this),16)}},{key:"render",value:function(){var t=this.state,e=t.bullet,n=t.fighterX,i=t.invaders,r=t.score,o=t.invaderBomb;return a.a.createElement("div",null,a.a.createElement("p",{style:{"padding-left":"50px"}},r),e.active?a.a.createElement(y,{x:e.x,y:e.y}):null,o.active?a.a.createElement(y,{x:o.x,y:o.y}):null,i.map((function(t,e){if(t.alive)return a.a.createElement(d,{x:t.x,y:t.y})})),a.a.createElement(f,{x:n}))}}]),e}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},8:function(t,e,n){t.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.a9ab74b0.chunk.js.map